<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>FRC &#8211; Seventeen Acres</title>
	<atom:link href="http://www.17acr.com/category/tag/frc/feed" rel="self" type="application/rss+xml" />
	<link>http://www.17acr.com</link>
	<description>Random Engineering Hacks</description>
	<lastBuildDate>Tue, 08 Aug 2017 17:02:27 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.8.1</generator>

<image>
	<url>http://www.17acr.com/wp-content/uploads/2017/07/cropped-2017-07-31-12_18_13-CircuitMaker-1.3-Logo.CMPcbDoc-industRIO.PrjPcb-Dan-Nichols-is-signed-in.-32x32.png</url>
	<title>FRC &#8211; Seventeen Acres</title>
	<link>http://www.17acr.com</link>
	<width>32</width>
	<height>32</height>
</image> 
	<item>
		<title>SlidyTension</title>
		<link>http://www.17acr.com/category/cad/slidytension</link>
		<comments>http://www.17acr.com/category/cad/slidytension#respond</comments>
		<pubDate>Sun, 16 Oct 2016 14:21:32 +0000</pubDate>
		<dc:creator><![CDATA[dan]]></dc:creator>
				<category><![CDATA[CAD]]></category>
		<category><![CDATA[FRC]]></category>

		<guid isPermaLink="false">http://www.17acr.com/?p=208</guid>
		<description><![CDATA[Chain tensioning has always been a problem for 548. We&#8217;ve tried slots for idler sprockets, discrete holes or slots for acetal sliders, offset-drilled acetal sliders, idlers on offset-drilled shafts, double-drilled acetal sliders, and more. All of these have one of two problems. Either they don&#8217;t have enough positions or lose tension over time. I came &#8230; <a href="http://www.17acr.com/category/cad/slidytension" class="more-link">Continue reading <span class="screen-reader-text">SlidyTension</span> <span class="meta-nav">&#8594;</span></a>]]></description>
				<content:encoded><![CDATA[<p>Chain tensioning has always been a problem for 548. We&#8217;ve tried slots for idler sprockets, discrete holes or slots for acetal sliders, offset-drilled acetal sliders, idlers on offset-drilled shafts, double-drilled acetal sliders, and more. All of these have one of two problems. Either they don&#8217;t have enough positions or lose tension over time. I came up with this design to avoid both of those problems. SlidyTension is infinitely adjustable, compact, cheap,  easy to adjust, doesn&#8217;t move under load, and customizable for different sizes of bearings or travel lengths.</p>
<p><span id="more-208"></span></p>
<h1><a href="http://dan-desktop/wordpress/wp-content/uploads/2016/10/Tensioner.jpg"><img class="alignnone wp-image-216 size-large" src="http://dan-desktop/wordpress/wp-content/uploads/2016/10/Tensioner-1024x1024.jpg" alt="" width="474" height="474" srcset="http://www.17acr.com/wp-content/uploads/2016/10/Tensioner-1024x1024.jpg 1024w, http://www.17acr.com/wp-content/uploads/2016/10/Tensioner-150x150.jpg 150w, http://www.17acr.com/wp-content/uploads/2016/10/Tensioner-300x300.jpg 300w, http://www.17acr.com/wp-content/uploads/2016/10/Tensioner-768x768.jpg 768w" sizes="(max-width: 474px) 100vw, 474px" /></a><a href="http://www.17acr.com/wp-content/uploads/2016/10/slidytension-expldoe.jpg"><img class="alignnone size-large wp-image-219" src="http://www.17acr.com/wp-content/uploads/2016/10/slidytension-expldoe-1024x1024.jpg" alt="" width="474" height="474" srcset="http://www.17acr.com/wp-content/uploads/2016/10/slidytension-expldoe-1024x1024.jpg 1024w, http://www.17acr.com/wp-content/uploads/2016/10/slidytension-expldoe-150x150.jpg 150w, http://www.17acr.com/wp-content/uploads/2016/10/slidytension-expldoe-300x300.jpg 300w, http://www.17acr.com/wp-content/uploads/2016/10/slidytension-expldoe-768x768.jpg 768w" sizes="(max-width: 474px) 100vw, 474px" /></a></h1>
<h1>CAD</h1>
<p><a href="https://grabcad.com/library/slidytension-1">Download on GrabCAD here</a><br />
<strong>Note:The bearing diameter and adjustment travel are set as global variables and other dimensions dynamically scale based on those values</strong></p>
<h1>Construction</h1>
<ol>
<li>Mill the outer plates and sliding bearing block <strong>Note: Make sure the distance between the &#8220;rails&#8221; of the outer plates is slightly more than the thickness of the sliding block</strong></li>
<li>Clamp the outer plates together using the four mounting screws</li>
<li>Drill and tap the hole for adjustment screw</li>
<li>Assemble as shown</li>
<li>Tighten the jam nut  so the adjustment screw is retained</li>
</ol>
<h1>Adjustment</h1>
<ol>
<li>Loosen the jam nut</li>
<li>Turn adjustment screw to slide the bearing block</li>
<li>Tighten jam nut to prevent motion</li>
</ol>
]]></content:encoded>
			<wfw:commentRss>http://www.17acr.com/category/cad/slidytension/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Battery Test</title>
		<link>http://www.17acr.com/category/dev/battery-test</link>
		<comments>http://www.17acr.com/category/dev/battery-test#comments</comments>
		<pubDate>Tue, 30 Aug 2016 16:04:36 +0000</pubDate>
		<dc:creator><![CDATA[dan]]></dc:creator>
				<category><![CDATA[Development]]></category>
		<category><![CDATA[FRC]]></category>
		<category><![CDATA[Java]]></category>
		<category><![CDATA[Windows]]></category>

		<guid isPermaLink="false">http://www.17acr.com/?p=97</guid>
		<description><![CDATA[Now that the Jaguar motor controller has reached its end of life, they are accumulating in FRC team shops. Team 548 had around two dozen hiding in a tote. One use I found for them is testing batteries. After many brownouts during the 2016 season, we wondered if the batteries were faulty. My first plan was to &#8230; <a href="http://www.17acr.com/category/dev/battery-test" class="more-link">Continue reading <span class="screen-reader-text">Battery Test</span> <span class="meta-nav">&#8594;</span></a>]]></description>
				<content:encoded><![CDATA[<p>Now that the <a href="https://www.vexrobotics.com/217-3367.html">Jaguar</a> motor controller has reached its end of life, they are accumulating in FRC team shops. Team 548 had around two dozen hiding in a tote. One use I found for them is testing batteries. After many brownouts during the 2016 season, we wondered if the batteries were faulty. My first plan was to use a robot, but it was hard to eliminate variables, noisy, and overheated motors. After returning to the drawing board and doing some digging, I found a roll of steel high-temperature wire which had a total resistance of around 0.58Ω, able to burn about 14 amps at 8 volts for hours on end. With a spare Jaguar, box fan, and that wire, I constructed and programmed a 10A constant current load with PC data-logging.<span id="more-97"></span></p>
<h1><a href="http://www.17acr.com/wp-content/uploads/2016/08/editedIMG_20170807_135348.jpg"><img class="alignnone wp-image-211" src="http://www.17acr.com/wp-content/uploads/2016/08/editedIMG_20170807_135348-1024x796.jpg" alt="Battery Test Setup" width="700" height="544" srcset="http://www.17acr.com/wp-content/uploads/2016/08/editedIMG_20170807_135348-1024x796.jpg 1024w, http://www.17acr.com/wp-content/uploads/2016/08/editedIMG_20170807_135348-300x233.jpg 300w, http://www.17acr.com/wp-content/uploads/2016/08/editedIMG_20170807_135348-768x597.jpg 768w" sizes="(max-width: 700px) 100vw, 700px" /></a></h1>
<h1>Disclaimer</h1>
<p>Seventeen Acres Battery Test is licensed under <a href="http://website-archive.mozilla.org/www.mozilla.org/mpl/MPL/1.0/">MPL 1.0</a>. USE THIS SOFTWARE AND GUIDE AT YOUR OWN RISK. This software is not designed for and does not have adequate safety mechanisms for use with actuators, precision applications, safety-critical applications, or industrial use. Use this software for testing in a non-production environment only. Do not use this software or setup described unsupervised. Even use with a resistive load, as described below, can cause damage, injury, fire, or death. This software is in a rough state and may malfunction. See <a href="http://dan-desktop/wordpress/legal">this page</a> for more information.</p>
<h1>Hardware</h1>
<ul>
<li>Battery connector (I used clamp jumper leads)</li>
<li>≤40A circuit breaker or fuse (I used a 2009-14 PDP with 40A breaker)</li>
<li>Black Jaguar motor controller</li>
<li>Insulated steel wire</li>
<li>Wire rack</li>
<li>6P6C RJ25 cable</li>
<li>DB9 to RJ25 RS-232 adapter with CAN terminator</li>
<li>RS-232 DB9 port (I used a TRENDnet TU-S9 USB to RS-232 adapter)</li>
<li>Box fan</li>
<li>Windows PC</li>
</ul>
<p>The input side of the Jaguar is wired similarly to a normal robot but the main breaker is omitted since there is only a single 40A limited load. The steel wire is split into three separate sections in case a different resistance was required. All three sections are connected in series accross the Jaguar&#8217;s output. The load panel is then placed in front of a box fan. Since black Jaguars have an internal RS-232 to CAN bridge, it is connected via its 6P6C RJ25 port to a USB to RS-232 adapter with a DB9 to RJ25 converter attached to the PC. This setup is also used for firmware updates and ID management.</p>
<h1>Software</h1>
<p>The most straightforward way to control and monitor a Jaguar would be to use a cRIO, but FRC limitations make them tedious to use for static operations. A second option would be connecting to the Jaguars to a PC application using the serial libraries in Java. While the Jaguars have RS-232 serial, the protocol is not well-documented or simple. The BDC-COMM Windows software used to configure and test the Jaguars, however, has an often-ignored CLI mode which, although somewhat cryptic, has enough <a href="http://www.ti.com/lit/ug/spmu065d/spmu065d.pdf">documentation</a> to be useful.  The CLI mode enables all of the important functions of the Jaguar including PID, sensors, and output control. The Battery Test java application launches the BDC-COMM CLI terminal internally and then sends commands to that to operate. In constant current mode, the Java application runs a PID loop on the input current (calculated with output voltage and current, input voltage, and experimentally determined efficiency of .94) to output a set voltage to the Jaguar via BDC-COMM. Every 10 ms, the status values, set-point, and the energy integrator are updated. Every 100ms, a snapshot of input voltage, current, power, and energy and output voltage, current, power, and energy is logged to a CSV.</p>
<h1><a href="http://www.17acr.com/wp-content/uploads/2016/08/2017-08-03-21_50_30-BattTest.png"><img class="alignnone wp-image-202 size-full" src="http://www.17acr.com/wp-content/uploads/2016/08/2017-08-03-21_50_30-BattTest.png" alt="Battery Test Main Window" width="698" height="222" srcset="http://www.17acr.com/wp-content/uploads/2016/08/2017-08-03-21_50_30-BattTest.png 698w, http://www.17acr.com/wp-content/uploads/2016/08/2017-08-03-21_50_30-BattTest-300x95.png 300w" sizes="(max-width: 698px) 100vw, 698px" /></a></h1>
<h1>Prerequisites</h1>
<ul>
<li>PC running Windows (tested on Windows 10)</li>
<li>Java 8 runtime</li>
<li>Black Jaguar with <a href="http://content.vexrobotics.com/downloads/217-3367-VEXpro_Jaguar_FactoryDefault_Firmware_2013.zip">non-FRC firmware</a> v8161 and CAN ID 1</li>
<li><a href="http://content.vexrobotics.com/downloads/217-3367-VEXpro_Jaguar_BDC-COMM-107.zip">BDC-COMM</a> extracted and <a href="https://github.com/17acres/BatteryTest/raw/master/out/artifacts/Battery_Test_jar/Battery%20Test.jar">Battery Test</a>  downloaded to the same directory</li>
</ul>
<h1>Operation</h1>
<ol>
<li>With the load connected to the output of the Jaguar, attach the leads to the battery, powering on the Jaguar.</li>
<li>Connect the USB to serial adapter to the computer</li>
<li>In Device Manager note the COM port connected to the Jaguar <strong>Note: On some Java installations, you will need to open a command prompt window in the location of Battery Test and run the following command:</strong>
<pre>java -jar "Battery Test.jar"</pre>
</li>
<li>Prepare for the load output to energize</li>
<li>Open the Battery Test jar and enter the appropriate COM port number</li>
<li> For Constant Input Current Operation:
<ol>
<li>Set the cutoff voltage to a reasonable value (default: 10.5V)</li>
<li>Select &#8216;Constant&#8217; cycle mode</li>
<li>Set DC Offset to the desired input current. <strong>Note: this current must be less than what the load draws at the cutoff voltage. For example. with a 2Ω load and a 10V cutoff, the maximum possible current is roughly 5A. For smoother operation stay well below that threshold. Note that very low resistance loads can cause damage to the Jaguar since the software cannot respond quick enough to handle the massive current.</strong></li>
<li>Wait roughly one and a half to two hours for the cutoff voltage to be reached. A window will pop up with the energy used during the test. Closing the pop up will exit the application. <strong>Note: The output may not be fully disabled when the test ends. Disconnect the battery immediately after the completion of the test.</strong></li>
</ol>
</li>
<li> For Cyclical Output Current Modulation:
<ol>
<li>If testing batteries, set the cutoff voltage to a reasonable value (default: 10.5V)</li>
<li>If not testing batteries, set the cutoff voltage to a sufficiently low value</li>
<li>Program each of the fields available for the selected wave function to determine the output waveform.</li>
<li>If testing batteries, continue with step 4 in the &#8221; For Constant Input Current Operation&#8221; section</li>
</ol>
</li>
</ol>
<h1>CONCLUSION</h1>
<p><a href="http://www.17acr.com/wp-content/uploads/2016/08/2017-08-03-22_22_31-Combined.xlsx-Excel.png"><img class="alignnone wp-image-206 size-full" src="http://www.17acr.com/wp-content/uploads/2016/08/2017-08-03-22_22_31-Combined.xlsx-Excel.png" alt="Test results" width="1201" height="873" srcset="http://www.17acr.com/wp-content/uploads/2016/08/2017-08-03-22_22_31-Combined.xlsx-Excel.png 1201w, http://www.17acr.com/wp-content/uploads/2016/08/2017-08-03-22_22_31-Combined.xlsx-Excel-300x218.png 300w, http://www.17acr.com/wp-content/uploads/2016/08/2017-08-03-22_22_31-Combined.xlsx-Excel-768x558.png 768w, http://www.17acr.com/wp-content/uploads/2016/08/2017-08-03-22_22_31-Combined.xlsx-Excel-1024x744.png 1024w" sizes="(max-width: 1201px) 100vw, 1201px" /></a></p>
<p><a href="https://drive.google.com/open?id=0BwOcG3_E_tIpT3BjU0phbUJ1Ums">Data</a></p>
<p>For the batteries I tested (an unused 2015 MK battery (2015-009), a KoP battery from 2015 (2015-001), and two used 2016 MK batteries (2016-007 and 2016-006)) no correlation could be found between brand or age and capacity. For better results, real battery connectors should be used, since a 30mΩ input resistance difference would cause the .3V voltage drop observed in 2015-009 and 2016-006.</p>
]]></content:encoded>
			<wfw:commentRss>http://www.17acr.com/category/dev/battery-test/feed</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
	</channel>
</rss>
